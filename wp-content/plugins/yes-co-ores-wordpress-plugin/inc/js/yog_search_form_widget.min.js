jQuery(document).ready(function(){for(var searchFormWidgets=jQuery(".yog-search-form-widget"),i=0;i<searchFormWidgets.length;i++){yogSearchFormUpdateNum(searchFormWidgets[i].id);var yogObjectType=jQuery("input[name=object_type]",searchFormWidgets[i]).val();jQuery(".price-type-holder",searchFormWidgets[i]).change(function(){var koopChecked=jQuery("#PrijsType0",this).prop("checked"),huurChecked=jQuery("#PrijsType1",this).prop("checked"),koopPrijsHolder=jQuery("#Koopprijs-holder",searchFormWidgets[i]),huurPrijsHolder=jQuery("#Huurprijs-holder",searchFormWidgets[i]);1===koopPrijsHolder.length&&(koopChecked||!koopChecked&&!huurChecked?koopPrijsHolder.css("display","block"):koopPrijsHolder.css("display","none")),1===huurPrijsHolder.length&&(huurChecked||!koopChecked&&!huurChecked?huurPrijsHolder.css("display","block"):huurPrijsHolder.css("display","none")),"bedrijf"===yogObjectType&&jQuery(".price-condition-holder input",searchFormWidgets[i]).each(function(){var elem=jQuery(this),elemHolder=elem.closest(".yog-object-search-row");"k.k."===this.value||"v.o.n."===this.value?koopChecked||!koopChecked&&!huurChecked?elemHolder.css("display","block"):(elemHolder.css("display","none"),elem.attr("checked",!1)):huurChecked||!koopChecked&&!huurChecked?elemHolder.css("display","block"):(elemHolder.css("display","none"),elem.attr("checked",!1))})}),"bedrijf"===yogObjectType&&jQuery(".price-condition-holder",searchFormWidgets[i]).change(function(){var koopChecked=!1,huurChecked=!1,koopPrijsHolder=jQuery("#Koopprijs-holder",searchFormWidgets[i]),huurPrijsHolder=jQuery("#Huurprijs-holder",searchFormWidgets[i]),conditieValues=new Array;jQuery("input:checked",this).each(function(){"k.k."==this.value||"v.o.n."==this.value?koopChecked=!0:(conditieValues.push(this.value),huurChecked=!0)}),1===huurPrijsHolder.length&&jQuery.post(YogConfig.baseUrl+"/wp-admin/admin-ajax.php?action=bogminmaxrentalprices",{"HuurPrijsConditie[]":conditieValues,object_type:yogObjectType},function(data,status){if("success"===status){var response=jQuery.parseJSON(data),huurPrijsMinElem=jQuery("select#HuurPrijs_min",huurPrijsHolder),huurPrijsMaxElem=jQuery("select#HuurPrijs_max",huurPrijsHolder);response.from&&(huurPrijsMinElem.empty(),jQuery.each(response.from,function(value,key){huurPrijsMinElem.append(jQuery('<option value="'+value+'">'+key+"</option>"))})),response.till&&(huurPrijsMaxElem.empty(),jQuery.each(response.till,function(value,key){huurPrijsMaxElem.append(jQuery('<option value="'+value+'">'+key+"</option>"))}))}}),1===koopPrijsHolder.length&&(koopChecked||!koopChecked&&!huurChecked?koopPrijsHolder.css("display","block"):koopPrijsHolder.css("display","none")),1===huurPrijsHolder.length&&(huurChecked||!koopChecked&&!huurChecked?huurPrijsHolder.css("display","block"):huurPrijsHolder.css("display","none"))}),jQuery(".minmax-holder",searchFormWidgets[i]).each(function(){var minElem=jQuery(".value-min",this),maxElem=jQuery(".value-max",this);1===minElem.length&&1===maxElem.length&&(minElem.change(function(){var minElemValue=parseInt(this.value,10),maxElemValue=parseInt(maxElem.val(),10),numOptions=jQuery("option",maxElem).length;if(0<maxElemValue&&maxElemValue<=minElemValue){var index=maxElem[0].selectedIndex;if(index+1<numOptions)for(;0<maxElemValue&&maxElemValue<=minElemValue;)jQuery("option:nth-child("+index+")",maxElem).prop("selected",!0),maxElemValue=parseInt(maxElem.val(),10),index++}}),maxElem.change(function(){var minElemValue=parseInt(minElem.val(),10),maxElemValue=parseInt(this.value,10);if(0<minElemValue&&0<maxElemValue&&maxElemValue<=minElemValue)for(var index=minElem[0].selectedIndex;0<minElemValue&&maxElemValue<=minElemValue;)jQuery("option:nth-child("+index+")",minElem).prop("selected",!0),minElemValue=parseInt(minElem.val(),10),index--}))})}jQuery(".yog-search-form-widget .yog-object-form-elem").change(function(event){yogSearchFormUpdateNum(this.form.id)})}),yogSearchFormUpdateNum=function(formId){var baseUrl=YogConfig.baseUrl,formElem=jQuery("#"+formId);formElem.addClass("loading"),jQuery.getJSON(baseUrl,formElem.serialize()+"&yog-search-form-widget-ajax-search=true&form_id="+formId,function(data,status){if("success"==status){jQuery("#"+formId).removeClass("loading");var resultMsg=jQuery("#"+data.formId+" .yog-object-search-result"),searchBtn=jQuery("#"+data.formId+" .yog-object-search-button");resultMsg.html(data.msg),resultMsg.css("display","block"),0<data.posts?searchBtn.css("display","inline"):searchBtn.css("display","none")}})};