jQuery(document).ready(function(){function yFormatThousands(n,dp){for(var s=""+Math.floor(n),d=n%1,i=s.length,r="";0<(i-=3);)r="."+s.substr(i,3)+r;return s.substr(0,i+3)+r+(d?"."+Math.round(d*Math.pow(10,dp||2)):"")}var yogFormSliders=jQuery(".yog-form-slider-holder"),yogFormSliderIds=new Array;jQuery("input",yogFormSliders).css("display","none"),jQuery(".yog-form-slider-labels",yogFormSliders).css("display","block");for(var i=0;i<yogFormSliders.length;i++)yogFormSliderIds[yogFormSliderIds.length]=yogFormSliders[i].id;for(i=0;i<yogFormSliderIds.length;i++){var yogFormSliderId=yogFormSliderIds[i],settings=jQuery.parseJSON(jQuery("#"+yogFormSliderId+" .yog-form-slider-settings").html()),minValue=parseInt(jQuery("#"+yogFormSliderId+" input.yog-form-slider-min").val()),maxValue=parseInt(jQuery("#"+yogFormSliderId+" input.yog-form-slider-max").val());minValue&&0!=minValue||(minValue=settings.min,jQuery("#"+yogFormSliderId+" input.yog-form-slider-min").val(minValue)),maxValue&&0!=maxValue||(maxValue=settings.max,jQuery("#"+yogFormSliderId+" input.yog-form-slider-max").val(maxValue)),jQuery("#"+yogFormSliderId+" .yog-form-slider-min-label").html(yFormatThousands(parseInt(minValue))),jQuery("#"+yogFormSliderId+" .yog-form-slider-max-label").html(yFormatThousands(parseInt(maxValue)));var difference=settings.max-settings.min;if(difference<=20)var steps=1;else if(difference<=50)steps=5;else if(difference<=500)steps=10;else if(difference<=1e3)steps=25;else if(difference<=1e4)steps=100;else steps=1e3;jQuery("#"+yogFormSliderId+" .yog-form-slider").slider({range:!0,min:parseInt(settings.min),max:parseInt(settings.max),step:steps,values:[minValue,maxValue],slide:function(e,ui){var values=ui.values,minValue=Math.floor(values[0]),maxValue=Math.ceil(values[1]),step=jQuery(this).slider("option","step"),min=jQuery(this).slider("option","min"),max=jQuery(this).slider("option","max");(minValue==step||minValue<min+step)&&(minValue=min),max-step<maxValue&&(maxValue=max),jQuery(this).slider("option","values",[minValue,maxValue]),jQuery(".yog-form-slider-min-label",this.parentNode).html(yFormatThousands(minValue)),jQuery(".yog-form-slider-max-label",this.parentNode).html(yFormatThousands(maxValue))},stop:function(e,ui){var minElement=jQuery("input.yog-form-slider-min",this.parentNode),maxElement=jQuery("input.yog-form-slider-max",this.parentNode),currentMinValue=minElement.val(),currentMaxValue=maxElement.val(),newMinValue=jQuery(".yog-form-slider-min-label",this.parentNode).html(),newMaxValue=jQuery(".yog-form-slider-max-label",this.parentNode).html();currentMinValue!=newMinValue&&(minElement.val(newMinValue),minElement.change()),currentMaxValue!=newMaxValue&&(maxElement.val(newMaxValue),minElement.change())}})}});